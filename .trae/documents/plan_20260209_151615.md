I will implement the floating window feature with the following steps:

### 1. Main Process (`src/main/index.ts`)
- **Add Floating Window Management**:
  - Create a `floatingWindow` variable to hold the reference.
  - Implement `createFloatingWindow()` to create a small, frameless, always-on-top window that loads the renderer with `?mode=floating`.
- **Implement IPC Handlers**:
  - `switch-to-floating`: Hide the main window and show the floating window (creating it if necessary).
  - `switch-to-main`: Hide the floating window and show the main window.
- **Update Window Behavior**:
  - Modify `mainWindow.on('close')` to switch to the floating window instead of just hiding, fulfilling the "click 'X' to switch to floating" requirement.
  - Update data modification handlers (`add-entry`, `update-entry`, etc.) to broadcast an `entries-updated` event to all windows, ensuring data synchronization.

### 2. Preload Script (`src/preload/index.ts`)
- **Expose New APIs**:
  - `switchToFloating()`: Send IPC message to switch to floating mode.
  - `switchToMain()`: Send IPC message to restore main window.
  - `onEntriesUpdated(callback)`: Listen for data updates to refresh the UI.

### 3. Type Definitions (`src/renderer/src/env.d.ts`)
- Update the `api` interface to include the new methods for type safety in the renderer.

### 4. Renderer Process
- **Create `FloatingWindow` Component (`src/renderer/src/components/FloatingWindow.tsx`)**:
  - A minimal, transparent UI component.
  - Fetch and display the active entry's title and a running timer (reusing logic from `Timer.tsx`).
  - Include a button to switch back to the main window.
  - Listen for `entries-updated` to refresh data.
- **Update `App.tsx` (`src/renderer/src/App.tsx`)**:
  - Check the URL query parameter `mode`.
  - If `mode === 'floating'`, render the `FloatingWindow` component instead of the main app.
  - Add a listener for `entries-updated` to refresh the entry list when changes occur in the floating window.
- **Update `Timer.tsx` (`src/renderer/src/components/Timer.tsx`)**:
  - Add a "Switch to Floating" button (using an icon like `Minimize2`) when an entry is active.
  - Call `window.api.switchToFloating()` on click.

### 5. Verification
- Verify that clicking the new button switches to the floating window.
- Verify that clicking 'X' on the main window switches to the floating window.
- Verify that the timer and task name are correct in the floating window.
- Verify that switching back to the main window works and data is synced.