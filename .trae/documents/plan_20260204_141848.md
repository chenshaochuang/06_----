# Vibe Coding 开发指南：时间日记 (Time Diary)

这份指南旨在帮助你通过 "Vibe Coding" 模式（即 AI 辅助的心流式开发），从零构建一个现代化的电脑端时间日志软件。

**核心理念**：你（User）是产品经理与技术总监，负责定义“是什么”和“好不好”；我（AI）是高级全栈工程师，负责解决“怎么做”。

***

## 0. 技术选型与架构 (The Stack)

为了保证开发效率与最终产物的高质量，我们采用 **2025 年主流 Electron 生态**：

* **内核**: **Electron + Vite** (极速构建，告别卡顿)

* **前端**: **React + TypeScript** (类型安全，减少 AI 幻觉)

* **UI 系统**: **Tailwind CSS + shadcn/ui** (AI 最擅长的 UI 库，复制即用，美观现代)

* **状态管理**: **Zustand** (轻量级，不仅管理数据，还管理“应用状态”)

* **数据存储**: **electron-store** (基于 JSON 的本地存储，MVP 阶段最快) 或 **Better-SQLite3** (如果数据量巨大)

* **图表**: **Recharts** (React 生态最成熟的图表库)

***

## 1. 开发流程全景图 (The Roadmap)

当前我们处于 **阶段 1：初始化与地基**。

### 阶段 1：初始化与地基 (Foundation) 🚩 **(当前位置)**

* [ ] **环境搭建**: 使用 `electron-vite` 模板初始化项目。

* [ ] **UI 基础设施**: 安装 Tailwind CSS, `clsx`, `tailwind-merge`，初始化 shadcn/ui。

* [ ] **Vibe 检查**: 确保应用能跑起来，且主进程与渲染进程通信正常。

### 阶段 2：核心数据模型 (The Core)

* [ ] **数据结构定义**: 定义 `TimeEntry` (时间条目), `Tag` (标签), `Project` (项目) 的 TypeScript 接口。

* [ ] **存储层实现**: 封装 `DataService`，实现 CRUD（增删改查）操作，确保数据持久化到本地文件。

* [ ] **状态管理**: 使用 Zustand 创建 `useTimeStore`，管理当前的计时状态和日志列表。

### 阶段 3：UI 骨架与交互 (The Skeleton)

* [ ] **布局设计**: 侧边栏 (Sidebar) + 主内容区 (Main) + 状态栏 (Status Bar)。

* [ ] **组件开发**:

  * **计时器组件**: 包含开始/暂停/停止按钮，动态显示时长。

  * **时间轴列表**: 按日期分组显示时间日志。

  * **录入弹窗**: 手动补录时间的表单。

### 阶段 4：可视化与洞察 (The Insight)

* [ ] **统计面板**: 开发“今日概览”和“本周趋势”。

* [ ] **图表集成**: 使用 Recharts 展示饼图（时间分布）和柱状图（工作时长）。

### 阶段 5：打磨与发布 (The Polish)

* [ ] **体验优化**: 快捷键支持（空格暂停，Ctrl+N 新建），托盘图标。

* [ ] **打包**: 使用 `electron-builder` 生成 Windows 安装包 (.exe)。

***

## 2. Vibe Coding 最佳实践 (指南核心)

在接下来的开发中，请遵循以下模式以保持“Vibe” (心流)：

### A. 提示词技巧 (Prompting)

* **不做大而全**: 不要一次性说“做一个带图表的时间管理软件”。

* **要原子化**: 说“现在我们要实现`TimeEntry`的类型定义，包含 id, startTime, endTime, content, tags 字段。”

* **先逻辑后界面**: 先让 AI 写好 Hook 和数据逻辑，再让 AI 写 UI 组件去调用它。

### B. 上下文管理 (Context)

* **少即是多**: 当我们专注于“计时器”组件时，不需要把“图表”组件的代码发给我。

* **引用明确**: 使用 `@文件名` 明确告诉我你要修改哪里。

### C. 错误处理 (Debugging)

* **报错直接丢**: 遇到报错，直接复制错误信息给我，不要尝试自己概括。

* **视觉反馈**: 如果 UI 样式不对，截图或者描述“按钮应该在右边，但跑到了下面”。

***

## 3. 下一步行动计划

如果你同意这个指南，我们将立即开始 **阶段 1：初始化与地基**。

1. 初始化 Electron + React + TS 项目。
2. 配置 Tailwind CSS 和 shadcn/ui 环境。
3. 清理默认代码，建立干净的目录结构。

**请确认是否开始执行阶段 1？确认**
